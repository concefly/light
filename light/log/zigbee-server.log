[I 140101 21:21:00 server_test:115] 新连接进入 55713
[I 140101 21:21:01 server_test:60] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[I 140101 21:21:08 server_test:80] 连接断开 55713
[I 140101 21:32:24 server_test:121] 新连接进入 55719
[I 140101 21:32:26 server_test:60] 收到数据 ZigbeeServerCmd:stop
[E 140101 21:32:26 server_test:81] ZigbeeServerCmd:stop 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 70, in on_read
        redesc.update(getattr(self,'ctrl_'+cmd)(desc))
      File "server_test.py", line 98, in ctrl_stop
        self.stream.write(re)
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 204, in write
        assert isinstance(data, bytes_type)
    AssertionError
    
[I 140101 21:32:30 server_test:86] 连接断开 55719
[I 140101 21:33:08 server_test:121] 新连接进入 55721
[I 140101 21:33:12 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:33:19 server_test:86] 连接断开 55721
[I 140101 21:34:20 server_test:122] 新连接进入 55722
[I 140101 21:34:21 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:34:37 server_test:87] 连接断开 55722
[I 140101 21:35:17 server_test:123] 新连接进入 55724
[I 140101 21:35:19 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:35:19 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:35:20 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:35:21 server_test:60] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:35:23 server_test:88] 连接断开 55724
[I 140101 21:36:59 server_test:126] 新连接进入 55726
[I 140101 21:37:02 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:37:02 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:37:05 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:37:06 server_test:91] 连接断开 55726
[I 140101 21:41:52 server_test:127] 新连接进入 55731
[I 140101 21:41:54 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:41:54 server_test:85] 下载指令到 state:n;reason:未完成的指令;
[I 140101 21:42:00 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:42:00 server_test:85] 下载指令到 state:n;reason:未完成的指令;
[I 140101 21:44:58 server_test:122] 新连接进入 55734
[I 140101 21:45:00 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:45:00 server_test:80] 下载指令 reason:未完成的指令;state:n;
[I 140101 21:45:01 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[E 140101 21:45:01 server_test:79] zaddr:0x00;e:o;co:0;dc:1; 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 75, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
    TypeError: 'NoneType' object is not iterable
    
[I 140101 21:45:01 server_test:80] 下载指令 
[I 140101 21:45:48 server_test:123] 新连接进入 55735
[I 140101 21:45:49 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:45:49 server_test:81] 下载指令 reason:未完成的指令;state:n;
[I 140101 21:45:55 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[E 140101 21:45:55 server_test:79] zaddr:0x00;e:o;co:0;dc:1; 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 75, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
    TypeError: 'NoneType' object is not iterable
    
[I 140101 21:45:57 server_test:88] 连接断开 55735
[I 140101 21:46:00 server_test:123] 新连接进入 55736
[I 140101 21:46:02 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[E 140101 21:46:02 server_test:79] zaddr:0x00;e:o;co:0;dc:1; 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 75, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
    TypeError: 'NoneType' object is not iterable
    
[I 140101 21:47:16 server_test:124] 新连接进入 55738
[I 140101 21:47:23 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[I 140101 21:47:25 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[I 140101 21:47:35 server_test:88] 连接断开 55738
[I 140101 21:49:02 server_test:126] 新连接进入 55740
[I 140101 21:49:04 server_test:63] 收到数据 ZigbeeServerCmd:stop
[I 140101 21:49:04 server_test:71] 处理控制指令 stop
[I 140101 21:49:04 server_test:83] 下载指令 reason:未完成的指令;state:n;
[I 140101 21:49:07 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[I 140101 21:49:07 server_test:76] 处理ZLL事件 o
[I 140101 21:49:11 server_test:90] 连接断开 55740
[I 140101 21:50:04 server_test:126] 新连接进入 55741
[I 140101 21:50:06 server_test:63] 收到数据 zaddr:0x00;e:o;co:0;dc:1;
[I 140101 21:50:06 server_test:76] 处理ZLL事件 o
[I 140101 21:50:33 server_test:63] 收到数据 zaddr:0x01;e:o;co:1;dc:1;
[I 140101 21:50:33 server_test:76] 处理ZLL事件 o
[I 140101 21:50:42 server_test:90] 连接断开 55741
[I 140101 21:56:09 server_test:143] 新连接进入 55745
[I 140101 21:56:10 server_test:63] 收到数据 zaddr:0x01;e:r;su:0x00;ma:0x00
[I 140101 21:56:10 server_test:76] 处理ZLL事件 r
[E 140101 21:56:10 server_test:81] zaddr:0x01;e:r;su:0x00;ma:0x00 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 77, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
      File "server_test.py", line 127, in zll_r
        idd = desc['id']
    KeyError: 'id'
    
[I 140101 21:56:22 server_test:63] 收到数据 zaddr:0x01;id:0;e:r;su:0x00;ma:0x00
[I 140101 21:56:22 server_test:76] 处理ZLL事件 r
[E 140101 21:56:23 server_test:81] zaddr:0x01;id:0;e:r;su:0x00;ma:0x00 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 77, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
      File "server_test.py", line 136, in zll_r
        cur.execute('insert into group_online (zaddr,id,MajorNum,SubNum) values (%s,%s,%s,%s)',(zaddr,idd,MajorNum,SubNum))
      File "/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 174, in execute
        self.errorhandler(self, exc, value)
      File "/usr/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
        raise errorclass, errorvalue
    OperationalError: (1054, "Unknown column 'id' in 'field list'")
    
[I 140101 21:57:08 server_test:143] 新连接进入 55747
[I 140101 21:57:10 server_test:63] 收到数据 zaddr:0x01;id:0;e:r;su:0x00;ma:0x00
[I 140101 21:57:10 server_test:76] 处理ZLL事件 r
[I 140101 21:57:36 server_test:63] 收到数据 zaddr:0x01;id:0x0;e:r;su:0x01;ma:0x00
[I 140101 21:57:36 server_test:76] 处理ZLL事件 r
[I 140101 21:57:44 server_test:90] 连接断开 55747
[I 140102 10:01:58 server_test:169] 新连接进入 58258
[I 140102 10:02:50 server_test:90] 连接断开 58258
[I 140102 10:03:20 server_test:169] 新连接进入 58265
[I 140102 10:03:45 server_test:90] 连接断开 58265
[I 140102 10:04:00 server_test:169] 新连接进入 58269
[I 140102 10:04:01 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:04:01 server_test:76] 处理ZLL事件 td
[I 140102 10:04:01 server_test:83] 下载指令 reason:db error;e:y;zaddr:0;id:0;
[I 140102 10:07:06 server_test:173] 新连接进入 58280
[I 140102 10:07:08 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:07:08 server_test:76] 处理ZLL事件 td
[E 140102 10:07:08 server_test:81] zaddr:0x00;id:0x00;e:td;light:0x01; 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 77, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
      File "server_test.py", line 164, in zll_td
        tornado.log.gen_log.error('%s td指令执行出错\n %s' %(dat,fp.getvalue()) )
    NameError: global name 'dat' is not defined
    
[I 140102 10:08:10 server_test:173] 新连接进入 58284
[I 140102 10:08:11 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:08:11 server_test:76] 处理ZLL事件 td
[E 140102 10:08:11 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 149, in zll_td
        MajorNum,SubNum = cur.fetch()
    AttributeError: 'Cursor' object has no attribute 'fetch'
    
[I 140102 10:08:11 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:10:43 server_test:173] 新连接进入 58347
[I 140102 10:10:46 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:10:46 server_test:76] 处理ZLL事件 td
[E 140102 10:10:46 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 149, in zll_td
        MajorNum,SubNum = cur.fetch_one()
    AttributeError: 'Cursor' object has no attribute 'fetch_one'
    
[I 140102 10:10:46 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:11:02 server_test:173] 新连接进入 58348
[I 140102 10:11:03 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:11:03 server_test:76] 处理ZLL事件 td
[E 140102 10:11:03 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 149, in zll_td
        MajorNum,SubNum = cur.fetchone()
    TypeError: 'NoneType' object is not iterable
    
[I 140102 10:11:03 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:11:12 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:11:12 server_test:76] 处理ZLL事件 td
[E 140102 10:11:12 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 149, in zll_td
        MajorNum,SubNum = cur.fetchone()
    TypeError: 'NoneType' object is not iterable
    
[I 140102 10:11:12 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:13:29 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:13:29 server_test:76] 处理ZLL事件 td
[E 140102 10:13:29 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 149, in zll_td
        MajorNum,SubNum = cur.fetchone()
    TypeError: 'NoneType' object is not iterable
    
[I 140102 10:13:29 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:13:37 server_test:90] 连接断开 58348
[I 140102 10:13:43 server_test:173] 新连接进入 58361
[I 140102 10:13:45 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:13:45 server_test:76] 处理ZLL事件 td
[E 140102 10:13:45 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 152, in zll_td
        attr.pop('zaddr')
    TypeError: an integer is required
    
[I 140102 10:13:45 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:13:49 server_test:90] 连接断开 58361
[I 140102 10:15:41 server_test:173] 新连接进入 58367
[I 140102 10:15:42 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:15:42 server_test:76] 处理ZLL事件 td
[E 140102 10:15:42 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 159, in zll_td
        cur.execute(sql,[desc[k] for k in attr])
      File "/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 174, in execute
        self.errorhandler(self, exc, value)
      File "/usr/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
        raise errorclass, errorvalue
    ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1) values (1)' at line 1")
    
[I 140102 10:15:42 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:15:44 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:15:44 server_test:76] 处理ZLL事件 td
[E 140102 10:15:44 server_test:164] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 159, in zll_td
        cur.execute(sql,[desc[k] for k in attr])
      File "/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 174, in execute
        self.errorhandler(self, exc, value)
      File "/usr/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
        raise errorclass, errorvalue
    ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1) values (1)' at line 1")
    
[I 140102 10:15:44 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:15:45 server_test:90] 连接断开 58367
[I 140102 10:16:37 server_test:174] 新连接进入 58370
[I 140102 10:16:38 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:16:38 server_test:76] 处理ZLL事件 td
[E 140102 10:16:38 server_test:165] td指令 light:1;zaddr:0;e:td;id:0; 执行出错
     Traceback (most recent call last):
      File "server_test.py", line 160, in zll_td
        cur.execute(sql,[desc[k] for k in attr])
      File "/usr/lib/python2.7/dist-packages/MySQLdb/cursors.py", line 174, in execute
        self.errorhandler(self, exc, value)
      File "/usr/lib/python2.7/dist-packages/MySQLdb/connections.py", line 36, in defaulterrorhandler
        raise errorclass, errorvalue
    ProgrammingError: (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '1) values (1)' at line 1")
    
[I 140102 10:16:38 server_test:83] 下载指令 reason:db error;e:n;zaddr:0;id:0;
[I 140102 10:16:46 server_test:90] 连接断开 58370
[I 140102 10:18:31 server_test:174] 新连接进入 58378
[I 140102 10:18:33 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:18:33 server_test:76] 处理ZLL事件 td
[I 140102 10:18:33 server_test:83] 下载指令 zaddr:0;e:y;id:0;
[I 140102 10:18:36 server_test:90] 连接断开 58378
[I 140102 10:20:36 server_test:174] 新连接进入 58387
[I 140102 10:20:37 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:20:37 server_test:76] 处理ZLL事件 td
[I 140102 10:20:37 server_test:83] 下载指令 zaddr:0;e:y;id:0;
[I 140102 10:20:59 server_test:90] 连接断开 58387
[I 140102 10:21:00 server_test:174] 新连接进入 58390
[I 140102 10:21:01 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 10:21:01 server_test:76] 处理ZLL事件 td
[I 140102 10:21:01 server_test:83] 下载指令 zaddr:0;e:y;id:0;
[I 140102 10:21:04 server_test:90] 连接断开 58390
[I 140102 10:35:12 server_test:176] 新连接进入 58433
[I 140102 10:35:13 server_test:63] 收到数据 zaddr:0x00;id:0x00;e:tr;light:0x01;
[I 140102 10:35:13 server_test:76] 处理ZLL事件 tr
[I 140102 10:35:13 server_test:83] 下载指令 reason:no_handler;e:n;id:0;zaddr:0;
[I 140102 10:35:18 server_test:90] 连接断开 58433
[I 140102 10:42:03 server_test:178] 新连接进入 58453
[I 140102 10:42:16 server_test:90] 连接断开 58453
[I 140102 10:42:17 server_test:178] 新连接进入 58454
[I 140102 10:42:20 server_test:63] 收到数据 ZigbeeServerCmd:get;attr:pid;
[I 140102 10:42:20 server_test:71] 处理控制指令 get
[I 140102 10:42:20 server_test:83] 下载指令 state:y;pid:3735;
[I 140102 10:42:42 server_test:63] 收到数据 ZigbeeServerCmd:get;attr:log;
[I 140102 10:42:42 server_test:71] 处理控制指令 get
[I 140102 10:42:42 server_test:83] 下载指令 state:y;log:/home/concefly/light_build_tree_v1/light/log/zigbee-server.log;
[I 140102 10:42:54 server_test:63] 收到数据 ZigbeeServerCmd:get;attr:pid;
[I 140102 10:42:54 server_test:71] 处理控制指令 get
[I 140102 10:42:54 server_test:83] 下载指令 state:y;pid:3735;
[I 140102 11:00:36 server_test:178] 新连接进入 58510
[I 140102 11:00:41 server_test:63] 收到数据 ZigbeeServerCmd:get;attr:pid;
[I 140102 11:00:41 server_test:71] 处理控制指令 get
[I 140102 11:00:41 server_test:83] 下载指令 state:y;pid:0xf70;
[I 140102 11:00:51 server_test:90] 连接断开 58510
[I 140102 12:19:27 server_test:200] 新连接进入 58634
[I 140102 12:20:02 server_test:81] 收到数据 zaddr:0x00;id:0x00;e:t;light:0x01;
[I 140102 12:20:02 server_test:94] 处理ZLL事件 t
[E 140102 12:20:02 server_test:99] zaddr:0x00;id:0x00;e:t;light:0x01; 指令执行出错
     Traceback (most recent call last):
      File "server_test.py", line 95, in on_read
        redesc.update(getattr(self,'zll_'+event)(desc))
    AttributeError: 'server_handler' object has no attribute 'zll_t'
    
[I 140102 12:20:18 server_test:81] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:20:18 server_test:94] 处理ZLL事件 td
[I 140102 12:20:18 server_test:102] 下载指令 zaddr:0x0;e:y;id:0x0;
[E 140102 12:20:18 iostream:344] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 105, in on_read
        for p in topts.options.net_ListenPort:
    TypeError: 'int' object is not iterable
[E 140102 12:20:18 ioloop:472] Exception in callback <functools.partial object at 0x8933234>
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py", line 458, in _run_callback
        callback()
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 105, in on_read
        for p in topts.options.net_ListenPort:
    TypeError: 'int' object is not iterable
[I 140102 12:20:18 server_test:112] 连接断开 58634
[I 140102 12:20:58 server_test:200] 新连接进入 58635
[I 140102 12:20:59 server_test:81] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:20:59 server_test:94] 处理ZLL事件 td
[I 140102 12:20:59 server_test:102] 下载指令 zaddr:0x0;e:y;id:0x0;
[W 140102 12:20:59 iostream:745] Connect error on fd 12: ECONNREFUSED
[E 140102 12:20:59 iostream:344] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 60, in on_write_done
        tornado.log.gen_log.info('分发指令 %s 到 %s' %(desc,self.port))
    NameError: global name 'desc' is not defined
[E 140102 12:20:59 ioloop:472] Exception in callback <functools.partial object at 0x8d20234>
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py", line 458, in _run_callback
        callback()
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 60, in on_write_done
        tornado.log.gen_log.info('分发指令 %s 到 %s' %(desc,self.port))
    NameError: global name 'desc' is not defined
[I 140102 12:22:50 server_test:200] 新连接进入 58639
[I 140102 12:22:52 server_test:81] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:22:52 server_test:94] 处理ZLL事件 td
[I 140102 12:22:52 server_test:102] 下载指令 zaddr:0x0;e:y;id:0x0;
[W 140102 12:22:52 iostream:745] Connect error on fd 12: ECONNREFUSED
[E 140102 12:22:52 iostream:344] Uncaught exception, closing connection.
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 60, in on_write_done
        tornado.log.gen_log.info('分发指令 %s 到 %s' %(self.desc,self.port))
    AttributeError: 'desc_distribute' object has no attribute 'port'
[E 140102 12:22:52 ioloop:472] Exception in callback <functools.partial object at 0x8de1234>
    Traceback (most recent call last):
      File "/usr/local/lib/python2.7/dist-packages/tornado/ioloop.py", line 458, in _run_callback
        callback()
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "/usr/local/lib/python2.7/dist-packages/tornado/iostream.py", line 341, in wrapper
        callback(*args)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 331, in wrapped
        raise_exc_info(exc)
      File "/usr/local/lib/python2.7/dist-packages/tornado/stack_context.py", line 302, in wrapped
        ret = fn(*args, **kwargs)
      File "server_test.py", line 60, in on_write_done
        tornado.log.gen_log.info('分发指令 %s 到 %s' %(self.desc,self.port))
    AttributeError: 'desc_distribute' object has no attribute 'port'
[I 140102 12:23:29 server_test:201] 新连接进入 58643
[I 140102 12:23:30 server_test:82] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:23:30 server_test:95] 处理ZLL事件 td
[I 140102 12:23:30 server_test:103] 下载指令 zaddr:0x0;e:y;id:0x0;
[W 140102 12:23:30 iostream:745] Connect error on fd 12: ECONNREFUSED
[I 140102 12:23:30 server_test:61] 分发指令 zaddr:0x0;e:y;id:0x0; 到 20000
[I 140102 12:23:35 server_test:82] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:23:35 server_test:95] 处理ZLL事件 td
[I 140102 12:23:35 server_test:103] 下载指令 zaddr:0x0;e:y;id:0x0;
[W 140102 12:23:35 iostream:745] Connect error on fd 12: ECONNREFUSED
[I 140102 12:23:35 server_test:61] 分发指令 zaddr:0x0;e:y;id:0x0; 到 20000
[I 140102 12:25:55 server_test:201] 新连接进入 58649
[I 140102 12:25:57 server_test:82] 收到数据 zaddr:0x00;id:0x00;e:td;light:0x01;
[I 140102 12:25:57 server_test:95] 处理ZLL事件 td
[I 140102 12:25:57 server_test:103] 下载指令 zaddr:0x0;e:y;id:0x0;
